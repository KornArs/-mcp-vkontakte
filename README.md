# MCP VKontakte Server

MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –í–ö–æ–Ω—Ç–∞–∫—Ç–µ (VK.com), –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –≥—Ä—É–ø–ø–∞–º–∏ –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å VK API —á–µ—Ä–µ–∑ Make MCP Client.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìù –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –≤ –ª–∏—á–Ω–æ–º –ø—Ä–æ—Ñ–∏–ª–µ –∏ –≥—Ä—É–ø–ø–∞—Ö
- üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ  
- üìä –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ—Å—Ç–æ–≤
- üîç –ü–æ–∏—Å–∫ –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- üì± –†–∞–±–æ—Ç–∞ —Å –º–µ–¥–∏–∞—Ñ–∞–π–ª–∞–º–∏
- ‚öôÔ∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª
- üåê HTTP/SSE —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–ª—è Make MCP Client
- üöÄ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ Railway
- üîê Stateless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ - —Ç–æ–∫–µ–Ω—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ VK Access Token

### –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [vkhost.github.io](https://vkhost.github.io/)**
2. **–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "VK Admin"** –∏ –Ω–∞–∂–º–∏—Ç–µ "—Ä–∞–∑—Ä–µ—à–∏—Ç—å"
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —á–∞—Å—Ç—å –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏** –æ—Ç `access_token=` –¥–æ `&expires_in` - —ç—Ç–æ –∏ –µ—Å—Ç—å –≤–∞—à API –∫–ª—é—á
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω** –≤ Make MCP Client

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±:

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –Ω–∞ [VK Developer](https://vk.com/dev)
2. **–í–∫–ª—é—á–∏—Ç–µ Open API** –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
3. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω** —á–µ—Ä–µ–∑ OAuth:
   ```
   https://oauth.vk.com/authorize?client_id=YOUR_APP_ID&display=page&redirect_uri=http://localhost&scope=wall,offline&response_type=token&v=5.199
   ```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ Railway

### 1. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Railway

1. **Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** –Ω–∞ GitHub
2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ Railway** –∫ –≤–∞—à–µ–º—É GitHub –∞–∫–∫–∞—É–Ω—Ç—É
3. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç** –≤ Railway
4. **–í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"**
5. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ù–ï —Ç—Ä–µ–±—É—é—Ç—Å—è** - —Å–µ—Ä–≤–µ—Ä stateless

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ URL –¥–ª—è Make MCP Client

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç URL –≤–∏–¥–∞:
```
https://your-app-name.railway.app
```

**MCP endpoint –¥–ª—è Make MCP Client:**
```
https://your-app-name.railway.app/mcp/sse
```

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Make MCP Client

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Make MCP Client** –≤ –≤–∞—à–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏
2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
3. **–í –ø–æ–ª–µ MCP Server** –≤—ã–±–µ—Ä–∏—Ç–µ "+ New MCP server"
4. **–í–≤–µ–¥–∏—Ç–µ URL:** `https://your-app-name.railway.app/mcp`
5. **–í –ø–æ–ª–µ API key / Access token** –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à VK Access Token
6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**

–¢–µ–ø–µ—Ä—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã VK –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Make –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —Ç–æ–∫–µ–Ω–∞!

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **`post_to_wall`** - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç–µ–Ω—É
  - `message` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞
  - `group_id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID –≥—Ä—É–ø–ø—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
  - `user_id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
  - `attachments` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –º–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ –Ω–∞ –º–µ–¥–∏–∞
  - `publish_date` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (Unix timestamp)

- **`get_wall_posts`** - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å–æ —Å—Ç–µ–Ω—ã
  - `group_id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID –≥—Ä—É–ø–ø—ã
  - `user_id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `count` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20)
  - `offset` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Å–º–µ—â–µ–Ω–∏–µ –æ—Ç –Ω–∞—á–∞–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)

- **`search_posts`** - –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É
  - `query` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
  - `group_id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - ID –≥—Ä—É–ø–ø—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
  - `count` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - `offset` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Å–º–µ—â–µ–Ω–∏–µ –æ—Ç –Ω–∞—á–∞–ª–∞

- **`get_group_info`** - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥—Ä—É–ø–ø–µ
  - `group_id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - ID –≥—Ä—É–ø–ø—ã

- **`get_user_info`** - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
  - `user_id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ screen_name

## üèóÔ∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone <repository-url>
   cd mcp-vkontakte
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm install
   ```

3. **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   ```bash
   npm run build
   ```

## üöÄ –ó–∞–ø—É—Å–∫

### HTTP/SSE —Å–µ—Ä–≤–µ—Ä (–¥–ª—è Railway –∏ Make MCP Client)
```bash
npm run start:make
```

### Stdio —Å–µ—Ä–≤–µ—Ä (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ MCP)
```bash
npm run start:cursor
```

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
npm run dev
```

## üì° API Endpoints

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ endpoints:

- **`/mcp/sse`** - SSE endpoint –¥–ª—è Make MCP Client
- **`/mcp/api`** - API endpoint –¥–ª—è –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- **`/health`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
- **`/mcp/info`** - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ MCP —Å–µ—Ä–≤–µ—Ä–µ

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç stateless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:
- **VK Access Token** –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`
- **Group ID –∏ User ID** –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- **ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ù–ï —Ç—Ä–µ–±—É—é—Ç—Å—è** - —Å–µ—Ä–≤–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é stateless

## üê≥ Docker

```bash
docker build -t mcp-vkontakte .
docker run -p 3000:3000 mcp-vkontakte
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Make](./MAKE_COM_INTEGRATION.md) - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ Make MCP Client
- [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Railway](./RAILWAY_DEPLOYMENT.md) - –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Railway
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ VK API](./VK_API_SETUP.md) - –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VK API

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- `npm run dev` - —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
- `npm run build` - —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `npm run start:cursor` - –∑–∞–ø—É—Å–∫ stdio —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è Cursor
- `npm run start:make` - –∑–∞–ø—É—Å–∫ HTTP/SSE —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è Make

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ –ø—Ä–∏ —Å–±–æ—è—Ö
- Health checks

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
